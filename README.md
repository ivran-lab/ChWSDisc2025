# Различение значений китайского слова
(Chinese Word Sense Discrimination)

⚠ DRAFT. 25 июня 2025 г.
### Термины

*Полисемия* или *многозначность* — свойство слова иметь несколько связанных значений, ср. «включить свет» и «выйти в свет».

*Различение значений слова* — задача автоматического разделения множества употреблений слова на группы по их значению, когда заранее не известно, сколько и какие именно значения есть у слова. Все наиболее употребительные слова в языка многозначны и могут обозначать разное в зависимости от контекста.
### Постановка задачи
**Проблема** : Слова в языке постепенно приобретают новые значения, какие-то значения утрачивают. Существующие словари не успевают за этими изменениями, особенно это касается неологизмов и заимствований. Необходимы средства для автоматического отслеживания и регистрации языковых изменений. Исходим из предположения, что заранее неизвестно, сколько у слова значений, и какие они. 

**Применение**:
- Обнаружение новых значений слова для корректировки и пополнение словарей.
- Подбор иллюстративного материала для словарей.

**Пример**: китайское слово 河汉 хэхань в словарях описывается следующим образом:

> 大 БКРС
> 1) Млечный Путь
> 2) пустые слова, пустословие

> 现代汉语词典 第5版
> 1) Млечный Путь
> 2) болтовня ни о чём, пустые разговоры
> 3) не верить или игнорировать (чьи-то слова)
 
**Задача**: перепроверить эти описания на основе реальных употреблений. Для этого необходима  семантическая классификация примеров употребления многозначных китайских слов с автоматическим определением классов и их наполнения. 

⚠ Смысл задачи – эмпирически описать многозначность слова по реальным употреблениям, и результаты в итоге могут не совпадать со словарными. Поэтому не допускается явное применение словарей, однако возможно использование моделей, обученных на словарных данных.

### Общий план действий
1) Сегментировать китайские тексты на отдельные слова.
В данной задаче корпус китайских текстов не размечен и не разделен на слова. Необходимо предварительно сегментировать тексты в соответствии с правилами китайского языка. 
Зачем это нужно? Например, простым строковым поиском `text.find("河汉")` по слову 河汉 хэхань можно найти предложения:

> 1月26日,首次行人在武汉楚**河汉**街行走. «26 января пешеходы впервые прошли по уханьской улице Чухэханьцзе».

> 皎皎**河汉**女芊芊擢素手 «Яркая дева Млечного Пути, Нежными руками тянется она…»

Однако это неправильное совпадение, т.к. здесь 河汉 употреблено не как самостоятельное слово, а как часть имен собственных: 楚河汉街 «квартал Чухэханьцзе» и 河汉女 «Ткачиха». При правильной сегментации совпадения со словом 河汉 не будет: 

> 1月26日 / , / 首次 / 行人 / 在 / 武汉 / **楚河汉街** / 行 走 /. 

> 皎皎 / **河汉女** / 芊芊 / 擢 / 素手

Сегментация китайского текста на слова — это ключевая задача обработки китайского языка. Точная сегментация необходима для задач классификации текстов и поиска информации.

2) Находим все вхождения слова во все тексты корпуса.

3) Захватываем вокруг каждого вхождения левый и правый контекст, своеобразное «окно» в тексте, через которое мы наблюдаем за словом.

В следующем случае употребления слова 河汉 захвачено все предложение, в котором оно встретилось:

> 最后四句写诗人起衣彷徨：风鸣马嘶催人搏进的夜晚对于锐意进取者是“良夜”，但**河汉**西倾、天色将明，诗人以国忧未释而异常焦灼。«Последние четыре строки описывают, как поэт, поднявшись, в тревоге бродит без сна: ночь, где вой ветра и ржанье коней зовут на битву, для устремлённого вперёд воина — «благодатное время», но вот Млечный Путь склонился к западу, небо светлеет, и поэт, чья тревога за страну не отпускает, охвачен невыразимой тоской».

⚠ Длина контекста, захват целых предложений или их фрагментов — настраиваемые параметры, от которых зависит объем работы и точность дельнейшей классификации.

3) Делим все примеры употребления на группы (без вложений), представляющие отдельные значения слова. Степень детализации, с которой выделяются и определяются значения слова (sense granularity) заранее не задается, но должна коррелировать с частотой слова (эмпирически установлена связь количества значений слова с законом Ципфа: у частотных слов больше значений, чем у менее частотных, см. https://doi.org/10.1558/jrds.33751)

### Технические условия
- Полученные классы классы значений должны быть названы по-русски. 
- Для каждого класса показано количество составляющих его примеров.
- Из всего множества примеров, попавших в каждый класс, отобрать и предъявить пользователю N (3~15) наиболее представительных для класса примеров с русским переводом.
- Примеры, не попадающие ни в один из представительных классов, выделить в отдельный список как маргинальные и требующие от лингвиста ручной перепроверки.

📝 Например, у слова 河汉 в результате такой процедуры можно различить следующие два значения:

- Топоним (современный и исторический)
> …在槐**河汉**码头项目建设基地… «на строительной площадке **причала Хэхань**»

> …常与长江、淮河、黄河并列，合称“江淮**河汉**”。 «Часто упоминается вместе с Янцзы, Хуайхэ и Хуанхэ; объединяются в термин Цзян-Хуай-Хэ-Хань»

- Млечный путь
> …但**河汉**西倾… «Но когда **Млечный Путь** склоняется к западу»
> 在中国古代又称天河、**河汉**、银汉、星河、星汉、云汉，在欧洲古代古希腊称

> 为 “乳之路”。 «В древнем Китае Млечный Путь также называли Небесной рекой, **Хэханем**, Серебряной рекой...»

- реки
> …临平气候温和,河汉密布,自然条件得天独厚… «В Линьпине мягкий климат и густая речная сеть, что создает исключительно благоприятные природные условия»

Эти данные подтверждают только одно из трех словарных значений (Млечный путь), при этом дают дополнительные значения (топоним) и «реки», не описанные в процитированных словарях.
## Предполагаемые результаты

Система должна отвечать на запросы следующего вида:
- Перечисли значения слова 旱涝保收
- Подтверди на примерах, что у слова 暗淡 есть значение «безнадёжный»
- Покажи все контексты слова 好歹 в значении "опасность" или в значении “хорошо и плохо”
## Описание данных
В качестве исходных данных предлагается использовать фрагмент китайского корпуса [ChineseWebText 2.0: Large-Scale High-quality Chinese Web Text with Multi-dimensional and fine-grained information](https://huggingface.co/datasets/CASIA-LM/ChineseWebText2.0)

В одном `jsonl.gz` файле 10 млн китайских текстов на разнообразные темы.

Отдельные тексты записаны в формате jsonl, из всех полей понадобится только поле `"text"`.

## Оценка результатов

Для тестирования будут отобраны двух, трех и четырех-иероглифические слова с двумя и более словарными значениями, которые заведомо встречаются в датасете, например:

> 野鸡, 金针, 鉴定, 钉子, 钢板, 铺垫, 锁定, 锅子,
 顺溜, 顺脚, 顽固, 顽钝, 领教, 题名, 题词,
摆摊子, 有意思, 桥头堡, 比例尺, 没说的, 没门儿, 
坐冷板凳, 天旋地转, 天昏地暗, 昏天黑地


